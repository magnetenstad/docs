<!DOCTYPE html>
<html>
  <head>
    <!-- Katex -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"/>

    <!-- GitHub Markdown Styles -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"/>

    <title>SQL.md</title>
    <link rel="icon" type="image/x-icon" href="../../"/>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../styles.css">
  
  </head>

  <body class="markdown-body">
    <div class="page flex-row">
      <div class="col">
        
<p><h4><a href="../index.html">courses/</a><a href="./index.html">tdt4145</a>
</h4></p>
<ul>
<li>ðŸ“‚ <a href="./assets/index.html">assets</a></li>
<li>ðŸ“„ <a href="Boka.html">Boka</a></li>
<li>ðŸ“„ <a href="Datamodellering.html">Datamodellering</a></li>
<li>ðŸ“„ <a href="Del 2.html">Del 2</a></li>
<li>ðŸ“„ <a href="Indekser.html">Indekser</a></li>
<li>ðŸ“„ <a href="Lagring.html">Lagring</a></li>
<li>ðŸ“„ <a href="Normalisering.html">Normalisering</a></li>
<li>ðŸ“„ <a href="Queryutf%C3%B8ring.html">QueryutfÃ¸ring</a></li>
<li>ðŸ“„ <a href="Relasjonsalgebra.html">Relasjonsalgebra</a></li>
<li>ðŸ“„ <a href="Relasjonsdatabaser.html">Relasjonsdatabaser</a></li>
<li>ðŸ“„ <a href="SQL.html">SQL âœ¨</a></li>
<li>ðŸ“„ <a href="Transaksjoner.html">Transaksjoner</a></li>
</ul>
<p><h4>Table of Contents</h4></p>
<nav class="table-of-contents"><ol><li><a href="#sql">SQL</a><ol><li><a href="#opprette-data">Opprette data</a><ol><li><a href="#fremmedn%C3%B8kkelrestriksjoner">FremmednÃ¸kkelrestriksjoner</a></li></ol></li><li><a href="#manipulere-data">Manipulere data</a><ol><li><a href="#sette-inn-data---insert-into">Sette inn data - INSERT INTO</a></li><li><a href="#oppdatere-data---update">Oppdatere data - UPDATE</a></li><li><a href="#slette-data---delete">Slette data - DELETE</a></li></ol></li><li><a href="#sp%C3%B8rringer---select">SpÃ¸rringer - SELECT</a><ol><li><a href="#spesifisere-krav---where">Spesifisere krav - WHERE</a></li><li><a href="#fjerne-duplikater---distinct">Fjerne duplikater - DISTINCT</a></li><li><a href="#sortering---order-by">Sortering - ORDER BY</a></li><li><a href="#strengsammenlikning---like">Strengsammenlikning - LIKE</a></li><li><a href="#data-fra-flere-tabeller%3A-kartesisk-produkt-og-ulike-typer-join">Data fra flere tabeller: kartesisk produkt og ulike typer join</a></li><li><a href="#aggregering">Aggregering</a></li><li><a href="#gruppering---group-by">Gruppering - GROUP BY</a><ol><li><a href="#betingelse-etter-gruppering---having">Betingelse etter gruppering - HAVING</a></li></ol></li><li><a href="#n%C3%B8stede-sp%C3%B8rringer">NÃ¸stede spÃ¸rringer</a><ol><li><a href="#sammenlikningsoperatorer">Sammenlikningsoperatorer</a></li><li><a href="#any%2C-all">ANY, ALL</a></li><li><a href="#in%2C-not-in">IN, NOT IN</a></li><li><a href="#exists">EXISTS</a></li><li><a href="#union%2C-snitt-og-differanse">Union, snitt og differanse</a></li><li><a href="#n%C3%B8stede-sp%C3%B8rringer-i-from-delen">NÃ¸stede spÃ¸rringer i FROM-delen</a></li></ol></li><li><a href="#virtuelle-tabeller---view">Virtuelle tabeller - VIEW</a></li></ol></li></ol></li></ol></nav>
      </div>
      <article class="col content">
        
<h1 id="sql" tabindex="-1">SQL</h1>
<p>Deklarativt spÃ¸rresprÃ¥k ("hva, ikke hvordan") - vi trenger ikke tenke pÃ¥ optimalisering. Ikke mengdeorientert som relasjonsalgebra, resultattabellene kan ha like rader - mÃ¥ be om at duplikater fjernes.</p>
<h2 id="opprette-data" tabindex="-1">Opprette data</h2>
<p>DDL - Data Definition Language</p>
<pre><code class="hljs language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-comment">/* opprette tabell */</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-comment">/* endre tabell */</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-comment">/* fjerne tabell */</span>
</code></pre>
<pre><code class="hljs language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Person (
    Pnr     <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    Navn    <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>),
    Alder   <span class="hljs-type">INTEGER</span>,
    <span class="hljs-keyword">CONSTRAINT</span> Person_PK <span class="hljs-keyword">PRIMARY</span> KEY (Pnr));
</code></pre>
<h3 id="fremmedn%C3%B8kkelrestriksjoner" tabindex="-1">FremmednÃ¸kkelrestriksjoner</h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">CONSTRAINT</span> RestriksjonsNavn <span class="hljs-keyword">FOREIGN</span> KEY (Attributt) <span class="hljs-keyword">REFERENCES</span> FremmedTabell(FremmedAttributt)
    <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-operator">&lt;&gt;</span>
    <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-operator">&lt;&gt;</span>);
</code></pre>
<p>Alternativer for <code><span class="hljs-section">&lt;&gt;</span></code>:</p>
<ul>
<li><code><span class="hljs-attribute">NO ACTION</span></code> (default) / <code><span class="hljs-attribute">RESTRICT</span></code>: stopper handlingen</li>
<li><code><span class="hljs-built_in">SET</span> <span class="hljs-literal">NULL</span></code>: setter <code><span class="hljs-literal">NULL</span></code>-verdi</li>
<li><code><span class="hljs-attribute">CASCADE</span></code>: oppdaterer/sletter tilsvarende</li>
</ul>
<h2 id="manipulere-data" tabindex="-1">Manipulere data</h2>
<p>DML - Data Manipulation Language</p>
<h3 id="sette-inn-data---insert-into" tabindex="-1">Sette inn data - <code><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span></code></h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Person <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Ola&#x27;</span>, <span class="hljs-number">24</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Person <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Kari&#x27;</span>, <span class="hljs-number">45</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> Person <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Per&#x27;</span>, <span class="hljs-number">14</span>);
</code></pre>
<h3 id="oppdatere-data---update" tabindex="-1">Oppdatere data - <code><span class="hljs-attribute">UPDATE</span></code></h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">UPDATE</span> Person
<span class="hljs-keyword">SET</span> Navn <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Karianne&#x27;</span>
<span class="hljs-keyword">WHERE</span> Pnr <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
</code></pre>
<h3 id="slette-data---delete" tabindex="-1">Slette data - <code><span class="hljs-attribute">DELETE</span></code></h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Navn <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Ola&#x27;</span>
</code></pre>
<h2 id="sp%C3%B8rringer---select" tabindex="-1">SpÃ¸rringer - <code><span class="hljs-keyword">SELECT</span></code></h2>
<p>Merk: <code><span class="hljs-keyword">SELECT</span> *</code> angir at vi Ã¸nsker alle attributter.</p>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> attributt, ...
<span class="hljs-keyword">FROM</span> tabell, ...
<span class="hljs-keyword">WHERE</span> betingelse
</code></pre>
<p>Relasjonsalgebraekvivalent:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mtext>attributt,Â ...</mtext></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mtext>betingelse</mtext></msub><mo stretchy="false">(</mo><mtext>tabell</mtext><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Pi_{\text{attributt, ...}}(\sigma_{\text{betingelse}}(\text{tabell}))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">attributt,Â ...</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">betingelse</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord">tabell</span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>
<h3 id="spesifisere-krav---where" tabindex="-1">Spesifisere krav - <code><span class="hljs-attribute">WHERE</span></code></h3>
<p>FÃ¸lgende operator virker som forventet.</p>
<table>
<thead>
<tr>
<th>Operator</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span class="hljs-attribute">AND</span></code>, <code><span class="hljs-attribute">OR</span></code></td>
</tr>
<tr>
<td><code><span class="hljs-operator">=</span></code>, <code><span class="hljs-addition">!=</span></code>, <code>&lt;</code>, <code><span class="hljs-meta prompt_">&gt;</span></code>, <code>&lt;<span class="hljs-operator">=</span></code>, <code>&gt;<span class="hljs-operator">=</span></code></td>
</tr>
</tbody>
</table>
<p>Merk: <code><span class="hljs-section">&lt;&gt;</span></code> er det samme som <code><span class="hljs-addition">!=</span></code></p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner personnummer og navn for personer over 20</span>
<span class="hljs-keyword">SELECT</span> Pnr, Navn
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Alder <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span>
</code></pre>
<h3 id="fjerne-duplikater---distinct" tabindex="-1">Fjerne duplikater - <code><span class="hljs-built_in">DISTINCT</span></code></h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> Navn
<span class="hljs-keyword">FROM</span> Person
</code></pre>
<h3 id="sortering---order-by" tabindex="-1">Sortering - <code><span class="hljs-keyword">ORDER</span> <span class="hljs-title">BY</span></code></h3>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> Navn
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Alder <span class="hljs-keyword">ASC</span>
</code></pre>
<h3 id="strengsammenlikning---like" tabindex="-1">Strengsammenlikning - <code><span class="hljs-attribute">LIKE</span></code></h3>
<p><code><span class="hljs-comment">%</span></code> angir vilkÃ¥rlig antall tegn. <code><span class="hljs-literal">_</span></code> angir ett tegn.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner alle attributter for personer med navn som begynner pÃ¥ P</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Navn <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;P%&#x27;</span>
</code></pre>
<h3 id="data-fra-flere-tabeller%3A-kartesisk-produkt-og-ulike-typer-join" tabindex="-1">Data fra flere tabeller: kartesisk produkt og ulike typer join</h3>
<p>Plasseres i <code><span class="hljs-selector-tag">FROM</span></code>-delen. Gitt tabeller <code><span class="hljs-selector-tag">A</span></code> og <code><span class="hljs-selector-tag">B</span></code>:</p>
<table>
<thead>
<tr>
<th>Funksjon</th>
<th>Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span class="hljs-selector-tag">A</span>, <span class="hljs-selector-tag">B</span></code></td>
<td>Kartesisk produkt</td>
</tr>
<tr>
<td><code><span class="hljs-selector-tag">A</span> CROSS JOIN <span class="hljs-selector-tag">B</span></code></td>
<td>Kartesisk produkt</td>
</tr>
<tr>
<td><code><span class="hljs-selector-tag">A</span> NATURAL JOIN <span class="hljs-selector-tag">B</span></code></td>
<td>Natural join</td>
</tr>
<tr>
<td><code><span class="hljs-selector-tag">A</span> (INNER) JOIN <span class="hljs-selector-tag">B</span></code></td>
<td>Indre join</td>
</tr>
<tr>
<td><code><span class="hljs-selector-tag">A</span> <span class="hljs-attribute">LEFT</span> (OUTER) JOIN <span class="hljs-selector-tag">B</span></code></td>
<td>Venstre ytre join</td>
</tr>
<tr>
<td><code><span class="hljs-selector-tag">A</span> <span class="hljs-attribute">RIGHT</span> (OUTER) JOIN <span class="hljs-selector-tag">B</span></code></td>
<td>HÃ¸yre ytre join</td>
</tr>
<tr>
<td><code>A <span class="hljs-keyword">FULL</span> (<span class="hljs-keyword">OUTER</span>) <span class="hljs-keyword">JOIN</span> B</code></td>
<td>Full ytre join</td>
</tr>
</tbody>
</table>
<p>Parenteser antyder frivillig spesifisering. Se <a href="#5-relasjonsalgebra">relasjonsalgebra</a> for nÃ¦rmere forklaring av funksjonene.</p>
<table>
<thead>
<tr>
<th>Betingelse</th>
<th>Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span class="hljs-attribute">NATURAL</span></code></td>
<td>Natural join</td>
</tr>
<tr>
<td><code><span class="hljs-keyword">ON</span> betingelse</code></td>
<td>Spesifiserer join-betingelsen</td>
</tr>
<tr>
<td><code><span class="hljs-function"><span class="hljs-title">USING</span></span> (attributt, ...)</code></td>
<td>Spesifiserer hvilke attributter som mÃ¥ vÃ¦re like i de to tabellene</td>
</tr>
</tbody>
</table>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner navn pÃ¥ hund og eier for personer over 60 Ã¥r</span>
<span class="hljs-keyword">SELECT</span> Person.Navn, Hund.Navn
<span class="hljs-keyword">FROM</span> Person <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> Hund <span class="hljs-keyword">ON</span> Person.Pnr <span class="hljs-operator">=</span> Hund.EierPnr
<span class="hljs-keyword">WHERE</span> Person.Alder <span class="hljs-operator">&gt;</span> <span class="hljs-number">60</span>
</code></pre>
<h3 id="aggregering" tabindex="-1">Aggregering</h3>
<p>Se <a href="#52-gruppering-og-aggregering">aggregering i relasjonsalgebra</a>.
Funksjonene ignorerer <code><span class="hljs-literal">NULL</span></code>-verdier. Med <code><span class="hljs-built_in">DISTINCT</span></code> opererer funksjonene pÃ¥ unike verdier. <code><span class="hljs-keyword">AS</span></code> definerer et alias.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner snittalderen av alle personer</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(Alder) <span class="hljs-keyword">AS</span> SnittAlder
<span class="hljs-keyword">FROM</span> Person
</code></pre>
<h3 id="gruppering---group-by" tabindex="-1">Gruppering - <code><span class="hljs-keyword">GROUP</span> <span class="hljs-title">BY</span></code></h3>
<p>Definerer grupper (partisjoner) av rader. MÃ¥ komme etter en eventuell <code><span class="hljs-attribute">WHERE</span></code>.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner snittalderen for hvert navn</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(Alder) <span class="hljs-keyword">AS</span> SnittAlder
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Navn
</code></pre>
<h4 id="betingelse-etter-gruppering---having" tabindex="-1">Betingelse etter gruppering - <code><span class="hljs-attribute">HAVING</span></code></h4>
<p>Som <code><span class="hljs-attribute">WHERE</span></code>, men <em>etter</em> gruppering.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner snittalderen for hvert navn, men kun hvis snittet over 60</span>
<span class="hljs-keyword">SELECT</span> Navn, <span class="hljs-built_in">AVG</span>(Alder) <span class="hljs-keyword">AS</span> SnittAlder
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Navn
<span class="hljs-keyword">HAVING</span> SnittAlder <span class="hljs-operator">&gt;</span> <span class="hljs-number">60</span>
</code></pre>
<h3 id="n%C3%B8stede-sp%C3%B8rringer" tabindex="-1">NÃ¸stede spÃ¸rringer</h3>
<p>I <code><span class="hljs-attribute">WHERE</span></code>-delen kan vi sammenlikne med resultatet fra en spÃ¸rring. I <code><span class="hljs-selector-tag">FROM</span></code>-delen kan vi gjÃ¸re en ny spÃ¸rring pÃ¥ resultatet av en spÃ¸rring.</p>
<h4 id="sammenlikningsoperatorer" tabindex="-1">Sammenlikningsoperatorer</h4>
<p><code>=, !=, &lt;, &gt;, &lt;=, &gt;=</code> virker som forventet.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner navnet til den eldste personen</span>
<span class="hljs-keyword">SELECT</span> Navn
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Alder <span class="hljs-operator">=</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(Alder) <span class="hljs-keyword">FROM</span> Person)
</code></pre>
<h4 id="any%2C-all" tabindex="-1"><code><span class="hljs-built_in">ANY</span></code>, <code><span class="hljs-keyword">ALL</span></code></h4>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner navnet til den eldste personen (alternativ mÃ¥te)</span>
<span class="hljs-keyword">SELECT</span> Navn
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Alder <span class="hljs-operator">&gt;=</span> <span class="hljs-keyword">ALL</span> (<span class="hljs-keyword">SELECT</span> Alder <span class="hljs-keyword">FROM</span> Person)
</code></pre>
<h4 id="in%2C-not-in" tabindex="-1"><code><span class="hljs-attribute">IN</span></code>, <code><span class="hljs-attribute">NOT IN</span></code></h4>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner snittalderen til forfattere</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(Alder)
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> Navn <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> Forfatter <span class="hljs-keyword">FROM</span> Bok)
</code></pre>
<h4 id="exists" tabindex="-1"><code><span class="hljs-keyword">EXISTS</span></code></h4>
<p>Dette er en korrelert del-spÃ¸rring, dvs. at den sender inn data. (Om Person-entiteter i dette tilfelle).</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner navn pÃ¥ personer som ikke jobber med noen andre personer</span>
<span class="hljs-keyword">SELECT</span> Navn 
<span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-keyword">FROM</span> JobberMed
    <span class="hljs-keyword">WHERE</span> JobberMed.PnrA <span class="hljs-operator">=</span> Person.Pnr <span class="hljs-keyword">OR</span> JobberMed.PnrB <span class="hljs-operator">=</span> Person.Pnr
)
</code></pre>
<h4 id="union%2C-snitt-og-differanse" tabindex="-1">Union, snitt og differanse</h4>
<p>Krever kompatible operandtabeller (like kolonnenavn).</p>
<table>
<thead>
<tr>
<th>Funksjon</th>
<th>Forklaring</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span class="hljs-built_in">UNION</span></code></td>
<td>Union</td>
</tr>
<tr>
<td><code><span class="hljs-attribute">INTERSECT</span></code></td>
<td>Snitt</td>
</tr>
<tr>
<td><code><span class="hljs-keyword">EXCEPT</span></code></td>
<td>Minus</td>
</tr>
<tr>
<td><code><span class="hljs-built_in">UNION</span> <span class="hljs-built_in">ALL</span></code></td>
<td>Union (beholder duplikater)</td>
</tr>
<tr>
<td><code><span class="hljs-keyword">INTERSECT</span> <span class="hljs-keyword">ALL</span></code></td>
<td>Snitt (beholder duplikater)</td>
</tr>
<tr>
<td><code><span class="hljs-keyword">EXCEPT</span> <span class="hljs-keyword">ALL</span></code></td>
<td>Minus (beholder duplikater)</td>
</tr>
</tbody>
</table>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner navn som brukes pÃ¥ bÃ¥de personer og hunder</span>
<span class="hljs-keyword">SELECT</span> Navn <span class="hljs-keyword">FROM</span> Person
<span class="hljs-keyword">INTERSECT</span>
<span class="hljs-keyword">SELECT</span> Navn <span class="hljs-keyword">FROM</span> Hund
</code></pre>
<h4 id="n%C3%B8stede-sp%C3%B8rringer-i-from-delen" tabindex="-1">NÃ¸stede spÃ¸rringer i <code><span class="hljs-selector-tag">FROM</span></code>-delen</h4>
<p>I <code><span class="hljs-selector-tag">FROM</span></code>-delen kan vi gjÃ¸re en ny spÃ¸rring pÃ¥ resultatet av en spÃ¸rring. Lager en midlertidig tabell.</p>
<pre><code class="hljs language-sql"><span class="hljs-comment">-- Finner antall arbeidere for ingeniÃ¸ryrker med under 1000 arbeidere</span>
<span class="hljs-keyword">SELECT</span> Yrke AntallArbeidere
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> Yrke, <span class="hljs-built_in">COUNT</span>(Pnr) <span class="hljs-keyword">AS</span> AntallArbeidere
  <span class="hljs-keyword">FROM</span> Person
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Yrke
)
<span class="hljs-keyword">WHERE</span> Yrke <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%ingeniÃ¸r&#x27;</span> <span class="hljs-keyword">AND</span> AntallArbeidere <span class="hljs-operator">&lt;</span> <span class="hljs-number">1000</span>
</code></pre>
<h3 id="virtuelle-tabeller---view" tabindex="-1">Virtuelle tabeller - <code><span class="hljs-keyword">VIEW</span></code></h3>
<p>Views er tabeller som er avledet ut fra tabeller som er lagret i databasen. Hvorfor: SpÃ¸rreforenkling, sikkerhet og ytelse.</p>
<pre><code class="hljs language-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> Forelder(ForelderPnr, ForelderNavn, BarnPnr, BarnNavn)
<span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> F.Pnr, F.Navn, B.Pnr, B.Navn
<span class="hljs-keyword">FROM</span> Person <span class="hljs-keyword">AS</span> F <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> Person <span class="hljs-keyword">AS</span> B
<span class="hljs-keyword">ON</span> (F.Pnr <span class="hljs-operator">=</span> B.MorPnr <span class="hljs-keyword">OR</span> F.Pnr <span class="hljs-operator">=</span> B.FarPnr)
</code></pre>

      </article>
      </div>
  </body>
</html>
