<!DOCTYPE html>
<html>
  <head>
    <!-- Katex -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"/>

    <!-- GitHub Markdown Styles -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"/>

    <title>2_application_layer.md</title>
    <link rel="icon" type="image/x-icon" href="../../favicon.png"/>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../styles.css">
  
  </head>

  <body class="markdown-body">
    <div class="page flex-row">
      <div class="col links">
        
<p><h4><a href="../index.html">courses/</a><a href="./index.html">ttm4100</a>
</h4></p>
<ul>
<li>📂 <a href="./assets/index.html">assets</a></li>
<li>📄 <a href="1_computer_networks_and_the_internet.html">1_computer_networks_and_the_internet</a></li>
<li>📄 <a href="2_application_layer.html">2_application_layer ✨</a></li>
<li>📄 <a href="3_transport_layer.html">3_transport_layer</a></li>
<li>📄 <a href="4_the_network_layer_data_plane.html">4_the_network_layer_data_plane</a></li>
<li>📄 <a href="5_the_network_layer_control_plane.html">5_the_network_layer_control_plane</a></li>
<li>📄 <a href="6_the_link_layer_and_lans.html">6_the_link_layer_and_lans</a></li>
<li>📄 <a href="7_cellular_networks_4g_and_5g.html">7_cellular_networks_4g_and_5g</a></li>
<li>📄 <a href="8_security_in_computer_networks.html">8_security_in_computer_networks</a></li>
<li>📄 <a href="9_multimedia_networking.html">9_multimedia_networking</a></li>
</ul>
<p><h4>Table of Contents</h4></p>
<nav class="table-of-contents"><ol><li><a href="#application-layer">Application Layer</a><ol><li><a href="#principles-of-network-applications">Principles of Network Applications</a><ol><li><a href="#network-application-architectures">Network Application Architectures</a></li><li><a href="#processes-communicating">Processes Communicating</a><ol><li><a href="#client-and-server-processes">Client and Server Processes</a></li><li><a href="#the-interface-between-the-process-and-the-computer-network">The Interface Between the Process and the Computer Network</a></li><li><a href="#addressing-processes">Addressing Processes</a></li></ol></li><li><a href="#transport-services-available-to-applications">Transport Services Available to Applications</a><ol><li><a href="#reliable-data-transfer">Reliable Data Transfer</a></li><li><a href="#throughput">Throughput</a></li><li><a href="#timing">Timing</a></li><li><a href="#security">Security</a></li></ol></li><li><a href="#transport-services-provided-by-the-internet">Transport Services Provided by the Internet</a><ol><li><a href="#tcp-services">TCP Services</a></li><li><a href="#udp-services">UDP Services</a></li><li><a href="#services-not-provided-by-internet-transport-protocols">Services Not Provided by Internet Transport Protocols</a></li></ol></li><li><a href="#application-layer-protocols">Application-Layer Protocols</a></li></ol></li><li><a href="#the-web-and-http">The Web and HTTP</a><ol><li><a href="#overview-of-http">Overview of HTTP</a></li><li><a href="#non-persistent-and-persistent-connections">Non-Persistent and Persistent Connections</a><ol><li><a href="#http-with-non-persistent-connections">HTTP with Non-Persistent Connections</a></li><li><a href="#http-with-persistent-connections">HTTP with Persistent Connections</a></li></ol></li><li><a href="#http-message-format">HTTP Message Format</a></li><li><a href="#http-response-message">HTTP Response Message</a></li><li><a href="#user-server-interaction%3A-cookies">User-Server Interaction: Cookies</a></li><li><a href="#web-caching">Web Caching</a><ol><li><a href="#the-conditional-get">The Conditional GET</a></li></ol></li><li><a href="#http%2F2">HTTP/2</a><ol><li><a href="#http%2F2-framing">HTTP/2 Framing</a></li><li><a href="#response-message-prioritization-and-server-pushing">Response Message Prioritization and Server Pushing</a></li><li><a href="#http%2F3">HTTP/3</a></li></ol></li></ol></li><li><a href="#electronic-mail-in-the-internet">Electronic Mail in the Internet</a><ol><li><a href="#smtp">SMTP</a></li><li><a href="#mail-message-formats">Mail Message Formats</a></li><li><a href="#mail-access-protocols">Mail Access Protocols</a></li></ol></li><li><a href="#dns---the-internet's-directory-service">DNS - The Internet&#39;s Directory Service</a><ol><li><a href="#services-provided-by-dns">Services Provided by DNS</a></li><li><a href="#overview-of-how-dns-works">Overview of How DNS Works</a><ol><li><a href="#a-centralized-design">A centralized design</a></li><li><a href="#a-distributed%2C-hierarchical-database">A Distributed, Hierarchical Database</a></li><li><a href="#dns-caching">DNS Caching</a></li></ol></li><li><a href="#dns-records-and-messages">DNS Records and Messages</a><ol><li><a href="#dns-messages">DNS Messages</a></li><li><a href="#inserting-records-into-the-dns-database">Inserting Records into the DNS Database</a></li></ol></li></ol></li><li><a href="#peer-to-peer-file-distribution">Peer-to-Peer File Distribution</a><ol><li><a href="#scalability-of-p2p-architectures">Scalability of P2P Architectures</a></li></ol></li><li><a href="#video-streaming-and-content-distribution-networks">Video Streaming and Content Distribution Networks</a><ol><li><a href="#internet-video">Internet Video</a></li><li><a href="#http-streaming-and-dash">HTTP Streaming and DASH</a></li><li><a href="#content-distribution-networks">Content Distribution Networks</a><ol><li><a href="#cdn-operation">CDN Operation</a></li></ol></li></ol></li><li><a href="#socket-programming%3A-creating-network-applications">Socket Programming: Creating Network Applications</a><ol><li><a href="#socket-programming-with-udp">Socket Programming with UDP</a></li><li><a href="#socket-programming-with-tcp">Socket Programming with TCP</a></li></ol></li></ol></li></ol></nav>
      </div>
      <article class="col content">
        
<h1 id="application-layer" tabindex="-1">Application Layer</h1>
<p>This whole chapter is part of the curriculum for <a href="./index.html">TTM4100</a>, except for the section in 2.5 about Bittorrent.</p>
<h2 id="principles-of-network-applications" tabindex="-1">Principles of Network Applications</h2>
<h3 id="network-application-architectures" tabindex="-1">Network Application Architectures</h3>
<p>Two predominant architectural paradigms used in modern network applications: the client-server architecture or the peer-to-peer (P2P) architecture.</p>
<p>One of the most compelling features of P2P architectures is their selfscalability. However, P2P applications face challenges of security, performance, and reliability due to their highly decentralized structure.</p>
<h3 id="processes-communicating" tabindex="-1">Processes Communicating</h3>
<p>Processes on two different end systems communicate with each other by exchanging messages across the computer network.</p>
<h4 id="client-and-server-processes" tabindex="-1">Client and Server Processes</h4>
<p>In the context of a communication session between a pair of processes, the process that initiates the communication (that is, initially contacts the other process at the beginning of the session) is labeled as the client. The process that waits to be contacted to begin the session is the server.</p>
<h4 id="the-interface-between-the-process-and-the-computer-network" tabindex="-1">The Interface Between the Process and the Computer Network</h4>
<p>A process sends messages into, and receives messages from, the network through a <em>software</em> interface called a socket.</p>
<p>A socket is the interface between the application layer and the transport layer within a host. It is also referred to as the Application Programming Interface (API).</p>
<h4 id="addressing-processes" tabindex="-1">Addressing Processes</h4>
<p>In the Internet, the host is identified by its IP address. The sending process must also identify the receiving process (more specifically, the receiving socket) running in the host. A destination port number serves this purpose.</p>
<h3 id="transport-services-available-to-applications" tabindex="-1">Transport Services Available to Applications</h3>
<p>When you develop an application, you must choose one of the available transport-layer protocols. We can broadly classify the possible services along four dimensions: reliable data transfer, throughput, timing, and security.</p>
<h4 id="reliable-data-transfer" tabindex="-1">Reliable Data Transfer</h4>
<p>If a protocol guarantees that the data sent by one end of the application is delivered correctly and completely to the other end of the application, it is said to provide reliable data transfer.</p>
<h4 id="throughput" tabindex="-1">Throughput</h4>
<p>With such a service, the application could request a guaranteed throughput of r bits/sec, and the transport protocol would then ensure that the available throughput is always at least r bits/sec.</p>
<p>Applications that have throughput requirements are said to be bandwidth-sensitive applications. Elastic applications can make use of as much, or as little, throughput as happens to be available.</p>
<h4 id="timing" tabindex="-1">Timing</h4>
<p>A transport-layer protocol can also provide timing guarantees.</p>
<h4 id="security" tabindex="-1">Security</h4>
<p>A transport protocol can provide security services such as confidentiality, data integrity and end-point authentication.</p>
<h3 id="transport-services-provided-by-the-internet" tabindex="-1">Transport Services Provided by the Internet</h3>
<p>The Internet makes two transport protocols available to applications, UDP and TCP.</p>
<h4 id="tcp-services" tabindex="-1">TCP Services</h4>
<p>The TCP service model includes a connection-oriented service and a reliable data transfer service. TCP also includes a congestion-control mechanism, throttling a sending process (client or server) when the network is congested between sender and receiver.</p>
<h4 id="udp-services" tabindex="-1">UDP Services</h4>
<p>UDP is a no-frills, lightweight transport protocol, providing minimal services. There is no handshaking or congestion-control mechanism.UDP is an unreliable data transfer service, with no guarantee that the message will ever reach the receiving process, and they may arrive out of order.</p>
<h4 id="services-not-provided-by-internet-transport-protocols" tabindex="-1">Services Not Provided by Internet Transport Protocols</h4>
<p>Many firewalls are configured to block (most types of) UDP traffic, Internet telephony applications often are designed to use TCP as a backup if UDP communication fails.</p>
<h3 id="application-layer-protocols" tabindex="-1">Application-Layer Protocols</h3>
<p>An application-layer protocol defines how an application’s processes, running on different end systems, pass messages to each other.</p>
<ul>
<li>The types of messages exchanged, for example, request messages and response messages</li>
<li>The syntax of the various message types, such as the fields in the message and how the fields are delineated</li>
<li>The semantics of the fields, that is, the meaning of the information in the fields</li>
<li>Rules for determining when and how a process sends messages and responds to messages</li>
</ul>
<h2 id="the-web-and-http" tabindex="-1">The Web and HTTP</h2>
<h3 id="overview-of-http" tabindex="-1">Overview of HTTP</h3>
<p>The HyperText Transfer Protocol (HTTP), the Web’s application-layer protocol, is at the heart of the Web. HTTP has a request-response behavior. HTTP uses TCP as its underlying transport protocol. Because an HTTP server maintains no information about the clients, HTTP is said to be a stateless protocol.</p>
<h3 id="non-persistent-and-persistent-connections" tabindex="-1">Non-Persistent and Persistent Connections</h3>
<p>Should each request/response pair be sent over a separate TCP connection, or should all of the requests and their corresponding responses be sent over the same TCP connection? In the former approach, the application is said to use <em>non-persistent connections</em>; and in the latter approach, <em>persistent connections</em>.</p>
<h4 id="http-with-non-persistent-connections" tabindex="-1">HTTP with Non-Persistent Connections</h4>
<p>We define the round-trip time (RTT), which is the time it takes for a small packet to travel from client to server and then back to the client. The RTT includes packet-propagation delays, packet queuing delays in intermediate routers and switches, and packet-processing delays.</p>
<p>The browser initiates a TCP connection between the browser and the Web server; this involves a "three-way handshake" - the client sends a small TCP segment to the server, the server acknowledges and responds with a small TCP segment, and, finally, the client acknowledges back to the server.</p>
<p>A brand-new connection must be established and maintained for each requested object. For each of these connections, TCP buffers must be allocated and TCP variables must be kept in both the client and server. Each object suffers a delivery delay of two RTTs—one RTT to establish the TCP connection and one RTT to request and receive an object.</p>
<h4 id="http-with-persistent-connections" tabindex="-1">HTTP with Persistent Connections</h4>
<p>With HTTP/1.1 persistent connections, the server leaves the TCP connection open after sending a response. Subsequent requests and responses between the same client and server can be sent over the same connection.</p>
<h3 id="http-message-format" tabindex="-1">HTTP Message Format</h3>
<p>The first line of an HTTP request message is called the request line; the subsequent lines are called the header lines. The request line has three fields: the method field, the URL field, and the HTTP version field. After the header lines (and the additional carriage return and line feed) there is an "entity body." The entity body is empty with the GET method, but is used with the POST method. HTML forms often use the GET method and include the inputted data (in the form fields) in the requested URL.</p>
<h3 id="http-response-message" tabindex="-1">HTTP Response Message</h3>
<p>It has three sections: an initial status line (200 OK, 400 Bad Request, 404 Not Found, etc.), six header lines, and then the entity body.</p>
<h3 id="user-server-interaction%3A-cookies" tabindex="-1">User-Server Interaction: Cookies</h3>
<p>It is often desirable for a Web site to identify users, either because the server wishes to restrict user access or because it wants to serve content as a function of the user identity. For these purposes, HTTP uses cookies.</p>
<p>Cookie technology has four components: (1) a cookie header line in the HTTP response message; (2) a cookie header line in the HTTP request message; (3) a cookie file kept on the user’s end system and managed by the user’s browser; and (4) a back-end database at the Web site.</p>
<h3 id="web-caching" tabindex="-1">Web Caching</h3>
<p>A Web cache—also called a proxy server—is a network entity that satisfies HTTP requests on the behalf of an origin Web server. Note that a cache is both a server and a client at the same time.</p>
<p>Hit rates - the fraction of requests that are satisfied by a cache - typically range from 0.2 to 0.7 in practice.</p>
<p>Average delay: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>h</mi></msub><mi>i</mi><mi>t</mi><mo>⋅</mo><msub><mi>t</mi><mi>h</mi></msub><mi>i</mi><mi>t</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>p</mi><mi>h</mi></msub><mi>i</mi><mi>t</mi><mo stretchy="false">)</mo><mo>⋅</mo><msub><mi>t</mi><mi>m</mi></msub><mi>i</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">p_hit \cdot t_hit + (1 - p_hit) \cdot t_miss</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">s</span></span></span></span></p>
<p>Through the use of Content Distribution Networks (CDNs), Web caches are increasingly playing an important role in the Internet.</p>
<h4 id="the-conditional-get" tabindex="-1">The Conditional GET</h4>
<p>Although caching can reduce user-perceived response times, it introduces a new problem—the copy of an object residing in the cache may be stale.</p>
<p>An HTTP request message is a so-called conditional GET message if (1) the request message uses the GET method and (2) the request message includes an If-Modified-Since: header line.</p>
<p>In response to the conditional GET, the Web server can respond with a 304 Not Modified in the status line, which tells the cache that it can go ahead and forward its (the proxy cache's) cached copy of the object to the requesting browser.</p>
<h3 id="http%2F2" tabindex="-1">HTTP/2</h3>
<p>Sending all the objects in a Web page over a single TCP connection (like in HTTP/1.1) has a Head of Line (HOL) blocking problem.</p>
<p>One of the primary goals of HTTP/2 is to get rid of (or at least reduce the number of) parallel TCP connections for transporting a single Web page.</p>
<h4 id="http%2F2-framing" tabindex="-1">HTTP/2 Framing</h4>
<p>The HTTP/2 solution for HOL blocking is to break each message into small frames, and interleave the request and response messages on the same TCP connection. The framing sublayer also binary encodes the frames. Binary protocols are more efficient to parse, lead to slightly smaller frames, and are less error-prone.</p>
<h4 id="response-message-prioritization-and-server-pushing" tabindex="-1">Response Message Prioritization and Server Pushing</h4>
<p>Another feature of HTTP/2 is the ability for a server to send multiple responses for a single client request.</p>
<h4 id="http%2F3" tabindex="-1">HTTP/3</h4>
<p>QUIC is a new "transport" protocol that is implemented in the application layer over the bare-bones UDP protocol. QUIC has several features that are desirable for HTTP, such as message multiplexing (interleaving), per-stream flow control, and low-latency connection establishment. HTTP/3 is yet a new HTTP protocol that is designed to operate over QUIC. As of 2020, HTTP/3 has not yet been fully standardized.</p>
<h2 id="electronic-mail-in-the-internet" tabindex="-1">Electronic Mail in the Internet</h2>
<p>The Internet mail system has three major components: user agents, mail servers, and the Simple Mail Transfer Protocol (SMTP).</p>
<p>SMTP is the principal application-layer protocol for Internet electronic mail. It uses the reliable data transfer service of TCP to transfer mail from the sender’s mail server to the recipient’s mail server.</p>
<h3 id="smtp" tabindex="-1">SMTP</h3>
<p>SMTP is a push protocol.</p>
<p><img src="./assets/2022-05-02-18-22-52.png" alt=""></p>
<h3 id="mail-message-formats" tabindex="-1">Mail Message Formats</h3>
<p>Every header must have a From: header line and a To: header line; a header may include a Subject: header line as well as other optional header lines. After the message header, a blank line follows; then the message body (in ASCII) follows.</p>
<h3 id="mail-access-protocols" tabindex="-1">Mail Access Protocols</h3>
<p>Today, there are two common ways to retrieve his e-mail from a mail server. Both the HTTP and IMAP approaches allows to manage folders, maintained in Bob’s mail server. Bob can move messages into the folders he creates, delete messages, mark messages as important, and so on.</p>
<h2 id="dns---the-internet's-directory-service" tabindex="-1">DNS - The Internet's Directory Service</h2>
<p>One identifier for a host is its hostname.However, hostnames provide little, if any, information about the location within the Internet of the host. Furthermore, because hostnames can consist of variable-length alphanumeric characters, they would be difficult to process by routers. For these reasons, hosts are also identified by so-called IP addresses.</p>
<p>An IP address looks like 121.7.106.83, where each period separates one of the bytes expressed in decimal notation from 0 to 255. An IP address is hierarchical because as we scan the address from left to right, we obtain more and more specific information about where the host is located in the Internet (that is, within which network, in the network of networks).</p>
<h3 id="services-provided-by-dns" tabindex="-1">Services Provided by DNS</h3>
<p>We need a directory service that translates hostnames to IP addresses. This is the main task of the Internet’s domain name system (DNS).</p>
<p>The desired IP address is often cached in a “nearby” DNS server.</p>
<p>DNS provides a few other important services in addition to translating hostnames to IP addresses:</p>
<ul>
<li>Host aliasing</li>
<li>Mail server aliasing</li>
<li>Load distribution. For replicated Web servers, a set of IP addresses is associated with one alias hostname. When clients make a DNS query for a name mapped to a set of addresses, the server responds with the entire set of IP addresses, but rotates the ordering of the addresses within each reply.</li>
</ul>
<h3 id="overview-of-how-dns-works" tabindex="-1">Overview of How DNS Works</h3>
<h4 id="a-centralized-design" tabindex="-1">A centralized design</h4>
<p>A simple design for DNS would have one DNS server that contains all the mappings.</p>
<p>The problems with a centralized design include:</p>
<ul>
<li>A single point of failure.</li>
<li>Traffic volume.</li>
<li>Distant centralized database.</li>
<li>Maintenance.</li>
</ul>
<p>A centralized database in a single DNS server simply doesn’t scale.</p>
<h4 id="a-distributed%2C-hierarchical-database" tabindex="-1">A Distributed, Hierarchical Database</h4>
<p>DNS uses a large number of servers, organized in a hierarchical fashion and distributed around the world. No single DNS server has all of the mappings for all of the hosts in the Internet.</p>
<p>The client first contacts one of the <em>root servers</em>, which returns IP addresses for <em>TLD servers</em> for the top-level domain com. The client then contacts one of these TLD servers, which returns the IP address of an <em>authoritative server</em> for amazon.com. Finally, the client contacts one of the authoritative servers for amazon.com, which returns the IP address for the hostname www.amazon.com.</p>
<p>Each ISP has a local DNS server (also called a default name server). DNS caching reduces query traffic.</p>
<h4 id="dns-caching" tabindex="-1">DNS Caching</h4>
<p>In a query chain, when a DNS server receives a DNS reply (containing, for example, a mapping from a hostname to an IP address), it can cache the mapping in its local memory.</p>
<p>Because hosts and mappings between hostnames and IP addresses are by no means permanent, DNS servers discard cached information after a period of time (often set to two days).</p>
<h3 id="dns-records-and-messages" tabindex="-1">DNS Records and Messages</h3>
<p>A resource record is a four-tuple that contains the following fields: (Name, Value, Type, TTL)</p>
<p>TTL is the time to live of the resource record; it determines when a resource should be removed from a cache. The meaning of Name and Value depend on Type (A, NS, CNAME, MX).</p>
<h4 id="dns-messages" tabindex="-1">DNS Messages</h4>
<p>Both query and reply messages have the same format.</p>
<p><img src="./assets/2022-05-03-08-56-23.png" alt=""></p>
<h4 id="inserting-records-into-the-dns-database" tabindex="-1">Inserting Records into the DNS Database</h4>
<p>A registrar is a commercial entity that verifies the uniqueness of the domain name, enters the domain name into the DNS database (as discussed below), and collects a small fee from you for its services.</p>
<h2 id="peer-to-peer-file-distribution" tabindex="-1">Peer-to-Peer File Distribution</h2>
<h3 id="scalability-of-p2p-architectures" tabindex="-1">Scalability of P2P Architectures</h3>
<p><img src="./assets/2022-05-03-09-10-03.png" alt=""></p>
<p>The distribution time is the time it takes to get a copy of the file to all N peers. In the client-server architecture, none of the peers aids in distributing the file. Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> denote the file size, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">u_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> the server upload rate, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> the minimum peer download rate.</p>
<p>The following provides a lower bound on the minimum distribution time for the <em>client-server architecture</em>:</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mo>∗</mo><mrow><mi>c</mi><mi>s</mi></mrow><mo>≥</mo><mi>max</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mrow><mi>N</mi><mi>F</mi></mrow><msub><mi>u</mi><mi>s</mi></msub></mfrac><mo separator="true">,</mo><mfrac><mi>F</mi><mrow><mi>d</mi><mo>∗</mo><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></mrow></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex"> D*{cs} \geq \max{\left(\frac{NF}{u_s}, \frac{F}{d*{min}}\right)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="mord mathnormal">s</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></span></p>
<p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">u_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> denote the upload rate for peer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>. The minimum distribution time for P2P:</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mo>∗</mo><mrow><mi>P</mi><mn>2</mn><mi>P</mi></mrow><mo>≥</mo><mi>max</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>F</mi><msub><mi>u</mi><mi>s</mi></msub></mfrac><mo separator="true">,</mo><mfrac><mi>F</mi><mrow><mi>d</mi><mo>∗</mo><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></mrow></mfrac><mo separator="true">,</mo><mfrac><mrow><mi>N</mi><mi>F</mi></mrow><mrow><mi>u</mi><mo>∗</mo><mi>s</mi><mo>+</mo><mo>∑</mo><mo>∗</mo><msup><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msup><msub><mi>u</mi><mi>i</mi></msub></mrow></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex"> D*{P2P} \geq \max{\left(\frac{F}{u_s}, \frac{F}{d*{min}}, \frac{NF}{u*s + \sum*{i=1}^N u_i}\right)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.480761em;vertical-align:-1.030761em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.219249em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∗</span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.890751em;"><span style="top:-3.11242em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.030761em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></span></p>
<p><img src="./assets/2022-05-03-09-18-42.png" alt=""></p>
<h2 id="video-streaming-and-content-distribution-networks" tabindex="-1">Video Streaming and Content Distribution Networks</h2>
<h3 id="internet-video" tabindex="-1">Internet Video</h3>
<p>From a networking perspective, perhaps the most salient characteristic of video is its high bit rate. Compressed Internet video typically ranges from 100 kbps for low-quality video to over 4 Mbps for streaming high-definition movies; 4K streaming envisions a bitrate of more than 10 Mbps.</p>
<p>We can also use compression to create multiple versions of the same video, each at a different quality level. For example, we can use compression to create, say, three versions of the same video, at rates of 300 kbps, 1 Mbps, and 3 Mbps. Users can then decide which version they want to watch as a function of their current available bandwidth.</p>
<h3 id="http-streaming-and-dash" tabindex="-1">HTTP Streaming and DASH</h3>
<p>All clients receive the same encoding of the video, despite the large variations in the amount of bandwidth available to a client, both across different clients and also over time for the same client. This has led to the development of a new type of HTTP-based streaming, often referred to as Dynamic Adaptive Streaming over HTTP (DASH). In DASH, the video is encoded into several different versions, with each version having a different bit rate and, correspondingly, a different quality level. The client dynamically requests chunks of video segments of a few seconds in length.</p>
<h3 id="content-distribution-networks" tabindex="-1">Content Distribution Networks</h3>
<p>In order to meet the challenge of distributing massive amounts of video data to users distributed around the world, almost all major video-streaming companies make use of Content Distribution Networks (CDNs).</p>
<p>CDNs typically adopt one of two different server placement philosophies:</p>
<ul>
<li>Enter Deep. Into the access networks of Internet Service Providers, by deploying server clusters in access ISPs all over the world. Get close to end users. The task of maintaining and managing the clusters becomes challenging.</li>
<li>Bring Home. Building large clusters at a smaller number (for example, tens) of sites. Typically results in lower maintenance and management overhead, possibly at the expense of higher delay and lower throughput to end users.</li>
</ul>
<h4 id="cdn-operation" tabindex="-1">CDN Operation</h4>
<p><img src="./assets/2022-05-03-09-26-50.png" alt=""></p>
<h2 id="socket-programming%3A-creating-network-applications" tabindex="-1">Socket Programming: Creating Network Applications</h2>
<h3 id="socket-programming-with-udp" tabindex="-1">Socket Programming with UDP</h3>
<p>By including the destination IP address in the packet, the routers in the Internet will be able to route the packet through the Internet to the destination host. But because a host may be running many network application processes, each with one or more sockets, it is also necessary to identify the particular socket in the destination host. When a socket is created, an identifier, called a port number, is assigned to it.</p>
<p><img src="./assets/2022-05-03-09-28-42.png" alt=""></p>
<h3 id="socket-programming-with-tcp" tabindex="-1">Socket Programming with TCP</h3>
<p>They first need to handshake and establish a TCP connection. When creating the TCP connection, we associate with it the client socket address (IP address and port number) and the server socket address (IP address and port number).</p>
<p>When the server “hears” the knocking, it creates a new door—more precisely, a new socket that is dedicated to that particular client.</p>
<p><img src="./assets/2022-05-03-09-30-00.png" alt=""> <img src="./assets/2022-05-03-09-30-15.png" alt=""></p>

        <div style="height: 100vh;"></div>
      </article>
      </div>
  </body>
</html>
