<!DOCTYPE html>
<html>
  <head>
    <!-- Katex -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"/>

    <!-- GitHub Markdown Styles -->
    <link rel="stylesheet" href=
        "https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"/>

    <title>What's Inside a Router.md</title>
    <link rel="icon" type="image/x-icon" href="../../../"/>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="../../../styles.css">
  
  </head>

  <body class="markdown-body">
    <div class="page flex-row">
      <div class="col">
        
<p><h4><a href="../index.html">ttm4100/</a><a href="./index.html">The Network Layer Data Plane</a>
</h4></p>
<ul>
<li>üìÑ <a href="Overview of Network Layer.html">Overview of Network Layer</a></li>
<li>üìÑ <a href="The Internet Protocol IP IPv4 Addressing IPv6 and More.html">The Internet Protocol IP IPv4 Addressing IPv6 and More</a></li>
<li>üìÑ <a href="What's Inside a Router.html">What's Inside a Router ‚ú®</a></li>
</ul>
<p><h4>Table of Contents</h4></p>
<nav class="table-of-contents"><ol><li><a href="#what's-inside-a-router">What&#39;s Inside a Router</a><ol><li><a href="#what%E2%80%99s-inside-a-router%3F">What‚Äôs Inside a Router?</a><ol><li><a href="#input-port-processing-and-destination-based-forwarding">Input Port Processing and Destination-Based Forwarding</a></li><li><a href="#switching">Switching</a></li><li><a href="#output-port-processing">Output Port Processing</a></li><li><a href="#where-does-queuing-occur%3F">Where Does Queuing Occur?</a><ol><li><a href="#input-queueing">Input Queueing</a></li><li><a href="#output-queueing">Output Queueing</a></li><li><a href="#how-much-buffering-is-%E2%80%9Cenough%3F%E2%80%9D">How Much Buffering Is ‚ÄúEnough?‚Äù</a></li></ol></li><li><a href="#packet-scheduling">Packet Scheduling</a><ol><li><a href="#first-in-first-out-(fifo)">First-in-First-Out (FIFO)</a></li><li><a href="#priority-queuing">Priority Queuing</a></li><li><a href="#round-robin-and-weighted-fair-queuing-(wfq)">Round Robin and Weighted Fair Queuing (WFQ)</a></li></ol></li></ol></li></ol></li></ol></nav>
      </div>
      <article class="col content">
        
<h1 id="what's-inside-a-router" tabindex="-1">What's Inside a Router</h1>
<h2 id="what%E2%80%99s-inside-a-router%3F" tabindex="-1">What‚Äôs Inside a Router?</h2>
<p>In a high-level view of a generic router architecture, four router components can be identified:</p>
<ul>
<li>Input ports.</li>
<li>Switching fabric.</li>
<li>Output ports.</li>
<li>Routing processor. performs control-plane functions.</li>
</ul>
<p>We distinguish between</p>
<ul>
<li>Destination-based forwarding.</li>
<li>Generalized forwarding.</li>
</ul>
<h3 id="input-port-processing-and-destination-based-forwarding" tabindex="-1">Input Port Processing and Destination-Based Forwarding</h3>
<p>With this style of forwarding table, the router matches a prefix of the packet‚Äôs destination address with the entries in the table.</p>
<p>When there are multiple matches, the router uses the longest prefix matching rule; that is, it finds the longest matching entry in the table and forwards the packet to the link interface associated with the longest prefix match.</p>
<p><img src="../assets/2022-05-08-13-40-34.png" alt=""></p>
<h3 id="switching" tabindex="-1">Switching</h3>
<p>Switching can be accomplished in a number of ways:</p>
<ul>
<li>Switching via memory.</li>
<li>Switching via a bus.</li>
<li>Switching via an interconnection network. A crossbar switch is non-blocking.</li>
</ul>
<p><img src="../assets/2022-05-08-13-41-43.png" alt=""></p>
<h3 id="output-port-processing" tabindex="-1">Output Port Processing</h3>
<p>Output port processing takes packets that have been stored in the output port‚Äôs memory and transmits them over the output link. This includes selecting (i.e., scheduling) and de-queueing packets for transmission, and performing the needed link-layer and physical-layer transmission functions.</p>
<h3 id="where-does-queuing-occur%3F" tabindex="-1">Where Does Queuing Occur?</h3>
<p>The location and extent of queueing (either at the input port queues or the output port queues) will depend on the traffic load, the relative speed of the switching fabric, and the line speed.</p>
<p>the router‚Äôs memory can eventually be exhausted and packet loss will occur when no memory is available to store arriving packets.</p>
<h4 id="input-queueing" tabindex="-1">Input Queueing</h4>
<p>If the switch fabric is not fast enough to transfer all arriving packets through the fabric, packet queuing can occur at the input ports, as packets must join input port queues to wait their turn to be transferred through the switching fabric to the output port.</p>
<p>head-of-the-line (HOL) blocking in an input-queued switch‚Äîa queued packet in an input queue must wait for transfer through the fabric (even though its output port is free) because it is blocked by another packet at the head of the line.</p>
<p><img src="../assets/2022-05-08-13-44-44.png" alt=""></p>
<h4 id="output-queueing" tabindex="-1">Output Queueing</h4>
<p>N more packets can possibly arrive at an output port in the time it takes to transmit just one of the N packets that had just previously been queued. Thus, packet queues can form at the output ports.</p>
<p>When there is not enough memory to buffer an incoming packet, a decision must be made to either drop the arriving packet (a policy known as drop-tail) or remove one or more already-queued packets to make room for the newly arrived packet.</p>
<p>a packet scheduler at the output port must choose one packet, among those queued, for transmission</p>
<h4 id="how-much-buffering-is-%E2%80%9Cenough%3F%E2%80%9D" tabindex="-1">How Much Buffering Is ‚ÄúEnough?‚Äù</h4>
<p>Larger buffers decrease the router‚Äôs packet loss rate, but also mean potentially longer queueing delays (bufferbloat).</p>
<p><img src="../assets/2022-05-08-13-50-48.png" alt=""></p>
<h3 id="packet-scheduling" tabindex="-1">Packet Scheduling</h3>
<h4 id="first-in-first-out-(fifo)" tabindex="-1">First-in-First-Out (FIFO)</h4>
<p>The FIFO (also known as first-come-first-served, or FCFS) scheduling discipline selects packets for link transmission in the same order in which they arrived at the output link queue.</p>
<h4 id="priority-queuing" tabindex="-1">Priority Queuing</h4>
<p>Under priority queuing, packets arriving at the output link are classified into priority classes upon arrival at the queue.</p>
<p>Under a non-preemptive priority queuing discipline, the transmission of a packet is not interrupted once it has begun.</p>
<h4 id="round-robin-and-weighted-fair-queuing-(wfq)" tabindex="-1">Round Robin and Weighted Fair Queuing (WFQ)</h4>
<p>A generalized form of round robin queuing that has been widely implemented in routers is the so-called weighted fair queuing (WFQ) discipline.</p>
<p>WFQ differs from round robin in that each class may receive a differential amount of service in any interval of time.</p>

      </article>
      </div>
  </body>
</html>
